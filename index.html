<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>To Kenji</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Georgia', serif;
    background: linear-gradient(to bottom, #fff0f5, #ffe4e1);
    overflow-x: hidden;
    position: relative;
    min-height: 100vh;
  }

  /* Envelope container */
  .envelope-container {
    position: relative;
    width: 300px; /* Smaller envelope */
    max-width: 80%;
    margin: 100px auto;
    cursor: pointer;
    perspective: 1000px;
    z-index: 10;
  }

  /* Envelope */
  .envelope {
    width: 100%;
    height: 200px;
    background: #fff;
    border: 2px solid #ccc;
    border-radius: 8px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1s ease, opacity 1s ease, height 1s ease;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    overflow: hidden;
  }

  /* Flap */
  .flap {
    position: absolute;
    width: 100%;
    height: 50%;
    background: #fff;
    top: 0;
    left: 0;
    transform-origin: top center;
    border-bottom: 2px solid #ccc;
    z-index: 2;
    transition: transform 1s ease;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Japan flag on flap */
  .flag {
    width: 90px;
    height: 60px;
    background: #fff;
    position: relative;
    border-radius: 4px;
    border: 1px solid #ccc;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }
  
  .flag .circle {
    width: 30px;
    height: 30px;
    background: #bc002d;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  /* Letter - Much larger than envelope */
  .letter {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 600px; /* Much wider */
    max-width: 90%;
    max-height: 80vh;
    background: #fffdf7;
    padding: 40px;
    border-radius: 12px;
    opacity: 0;
    z-index: 20;
    box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    transition: all 1.2s ease;
    transform: translate(-50%, -50%) scale(0.8);
    pointer-events: none;
    overflow-y: auto;
    border: 2px solid #ffd6e0;
  }

  .letter.show {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    pointer-events: auto;
  }

  .letter h1 {
    text-align: center;
    font-size: 2.5rem;
    color: #bc002d;
    margin-bottom: 25px;
    font-weight: normal;
    letter-spacing: 2px;
  }

  .letter p {
    line-height: 1.8;
    margin: 16px 0;
    font-size: 1.15rem;
    color: #444;
    text-align: justify;
  }

  /* Close button for letter */
  .close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #bc002d;
    cursor: pointer;
    padding: 5px;
    z-index: 21;
  }

  /* Sakura petals - Reduced frequency */
  .petal {
    position: fixed;
    top: -20px;
    background: pink;
    border-radius: 50%;
    pointer-events: none;
    animation: fall linear forwards;
  }

  .petal-background { z-index: 0; opacity: 0.4; }
  .petal-foreground { z-index: 5; opacity: 0.6; }

  @keyframes fall {
    0% { transform: translateY(0) rotate(0deg) translateX(0); opacity: 1; }
    25% { transform: translateY(25vh) rotate(45deg) translateX(10px); }
    50% { transform: translateY(50vh) rotate(90deg) translateX(-10px); opacity: 0.8; }
    75% { transform: translateY(75vh) rotate(135deg) translateX(10px); }
    100% { transform: translateY(110vh) rotate(180deg) translateX(0); opacity: 0.2; }
  }

  /* Overlay when letter is open */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
    z-index: 15;
  }

  .overlay.show {
    opacity: 1;
    pointer-events: auto;
  }
</style>
</head>
<body>

<div class="envelope-container" onclick="openEnvelope()">
  <div class="envelope" id="envelope">
    <div class="flap" id="flap">
      <div class="flag">
        <div class="circle"></div>
      </div>
    </div>
  </div>
</div>

<div class="letter" id="letter">
  <button class="close-btn" onclick="closeLetter()">×</button>
  <h1>My Gold Rush</h1>

  <p>You're golden and unreachable,
    everyone wants you — I can't blame them.
    A gold rush, the kind that steals the air,
    yet I'm left wishing I could hold it.</p>

  <p>I like how open you are,  
  how you cling without apology,  
  how sweetness lives in your smallest gestures.  
  I like how you never give up,  
  how your mind is always building forward.  
  You carry qualities I've always wished for in myself.</p>

  <p>But what pulls me most  
  isn't only your glow—  
  it's the shadows you don't hide.  
  The flaws that match mine,  
  the dark corners we both carry.  
  I think of you the way I think of stars—  
  distant, unreachable, yet always in my sky.
  Even with oceans keeping us apart,
  your presence still reaches me.
  And in that glow, I see all of you—  
  the light, the shadows, the scars—  
  and I love it all, because even in darkness,  
  you're still a masterpiece I can't unsee.</p>

  <p>Thank you for crossing paths with me.
  Even if our time was brief, you've been living rent-free in my mind.
  I still remember your comfort, your laugh, the way your mind works—so beautifully.
  It's crazy how a stranger can leave a mark this deep.
  And somehow, even in a spark, you make me hope for what's to come.</p>

  <p>ps. please don't feel bad for ghosting me. you probably don't even know me but that's fine. 
  i only followed you here on IG to wait for the chance to greet you a happy birthday. 
  i assumed it's today, but I'm not even sure.
  this will be the last time I reach out.
  you're a gold rush, you know? in the Taylor Swift–coded sense.
  and I've realized I don't like that falling feels like flying 'til the bone crush.
  maybe someday, if you come to the Philippines, you'll find the right one—naturally, without even searching.
  I hope you find the love you truly deserve.
  and I hope that, in time, I can grow into the same courage and beauty I see in you.</p>
</div>

<div class="overlay" id="overlay"></div>

<script>
  function createPetal(foreground=false) {
    const petal = document.createElement("div");
    petal.classList.add("petal");
    petal.classList.add(foreground ? "petal-foreground" : "petal-background");
    document.body.appendChild(petal);

    const size = Math.random() * 12 + 6;
    petal.style.width = size + "px";
    petal.style.height = size * 0.7 + "px";
    petal.style.left = Math.random() * window.innerWidth + "px";
    petal.style.animationDuration = (Math.random() * 8 + 8) + "s"; // Slower falling
    petal.style.opacity = Math.random() * 0.3 + (foreground ? 0.4 : 0.2);

    setTimeout(() => {
      petal.remove();
    }, 15000);
  }

  // Reduced petal frequency - much fewer petals
  setInterval(() => createPetal(false), 800); // Reduced from 200ms
  setInterval(() => createPetal(true), 2000); // Reduced from 600ms

  function openEnvelope() {
    const flap = document.getElementById('flap');
    const letter = document.getElementById('letter');
    const envelope = document.getElementById('envelope');
    const overlay = document.getElementById('overlay');

    // Animate flap rotation
    flap.style.transform = 'rotateX(-180deg)';

    // Show overlay
    overlay.classList.add('show');

    // Show letter after a short delay
    setTimeout(() => {
      letter.classList.add('show');
      
      // Hide envelope
      envelope.style.height = '0';
      envelope.style.opacity = '0';
    }, 800);
  }

  function closeLetter() {
    const letter = document.getElementById('letter');
    const overlay = document.getElementById('overlay');
    const envelope = document.getElementById('envelope');
    const flap = document.getElementById('flap');

    // Close letter and overlay
    letter.classList.remove('show');
    overlay.classList.remove('show');

    // Reset envelope and flap
    setTimeout(() => {
      envelope.style.height = '200px';
      envelope.style.opacity = '1';
      flap.style.transform = 'rotateX(0deg)';
    }, 500);
  }

  // Close letter when clicking outside
  document.getElementById('overlay').addEventListener('click', closeLetter);
</script>
</body>
</html>

